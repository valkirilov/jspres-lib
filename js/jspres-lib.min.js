(function(e,t){var n=1e3;var r=function(){};var i=function(e,t){return e.getElementById(t)};var s=function(e,t){return e.getElementsByClassName(t)};var o=function(){var e=t.location.href;var n=e.indexOf("#");return n>-1?e.slice(n+1,e.length):null};var u=function(e){var n=t.location.href;var r=n.indexOf("#");if(r>-1){n=n.slice(0,r)}n+="#"+e;t.location.href=n};var a=function(e,t){if(e.classList){e.classList.add(t)}else{e.className+=t}};var f=function(e,t){if(e.classList){e.classList.remove(t)}else{e.className-=t}};var l=function(e,t){setTimeout(e,t)};var c=function(e){return typeof e==="number"&&isFinite(e)};var h=t.jspresLib=function(r){var h=null;var p=null;var d={};var v={active:null,enter:null,leave:null};var m=null;var g=null;var y=function(){h=i(e,r);var t=s(h,"slides")[0];p=s(t,"slide");for(var n in p){if(typeof p[n].innerHTML==="string"){var u=p[n];var a=s(u,"step");u.steps=a}}for(var f in p){var l=p[f].id;if(!l){l="slide-"+f}d[l]=f;d[f]=l}var c=o();if(c!=null){N(c)}else{N(0)}b()};var b=function(){var t=e.createElement("div");t.className="jspres-info";t.innerHTML="To navigate use the spacebar or arrow keys. <br />                If you are on a touch device tap the screen edges;";if(h){h.appendChild(t);l(function(){a(t,"hide")},5e3)}};var w=function(e){if(!e)e=0;var t=e;if(!c(e)){e=d[e]}else{var t=d[e]}if(e===undefined)return w(0);return{name:t,id:parseInt(e)}};var E=function(e){var t=null;if(v.enter)t=v.enter;else if(v.active)t=v.active;if(t){v.leave=t;f(t,"active");a(t,"leave");a(t,t.getAttribute("data-leave"));l(function(){f(t,"leave");f(t,t.getAttribute("data-leave"));for(var e in t.steps){if(typeof t.steps[e].innerHTML==="string"){f(t.steps[e],"active")}}t.lastStep=-1;v.leave=null},n)}};var S=function(e,t){var r=e.steps[t];f(r,"active");f(r,"enter");a(r,"leave");a(r,r.getAttribute("data-leave"));e.lastStep=t-1;l(function(){f(r,"leave");f(r,r.getAttribute("data-leave"))},n)};var x=function(e){v.active=null;v.enter=p[e.id];v.enter.slideDetails=e;var t=v.enter;a(t,"enter");a(t,t.getAttribute("data-enter"));l(function(){f(t,"enter");f(t,t.getAttribute("data-enter"));if(v.enter!=null&&v.enter.slideDetails.id==m.id){a(t,"active");v.active=t;if(t.slideDetails)u(t.slideDetails.name)}v.enter=null},n)};var T=function(e,t){var r=e.steps[t];if(r.className.indexOf("active")>-1)return;a(r,"enter");a(r,r.getAttribute("data-enter"));l(function(){f(r,"enter");f(r,r.getAttribute("data-enter"));if(v["active"]&&v["active"].lastStep>=t)a(r,"active")},n)};var N=function(e){var t=w(e);if(t){E();m=t;x(t)}};var C=function(e){var t=null;if(v.enter)t="enter";else if(v.active)t="active";v[t].lastStep=e;T(v[t],e)};var k=function(){if(v.enter)var e="enter";else if(v.active)var e="active";if(e=="active"){var t=v[e].steps;if(t.length>0){var n=v[e].lastStep!=undefined?v[e].lastStep+1:0;if(n<t.length){C(n);return}}}var r=v[e].slideDetails.id+1;if(r==p.length)r=0;N(r)};var L=function(){if(v.enter)var e="enter";else if(v.active)var e="active";if(e=="active"){var t=v[e].steps;if(t.length>0){var n=v[e].lastStep!=undefined?v[e].lastStep:-1;if(n>=0){console.log("Go back");S(v[e],n);return}}}var r=v[e].slideDetails.id-1;if(r==-1)r=p.length-1;N(r)};e.addEventListener("keyup",function(e){switch(e.keyCode){case 32:case 39:case 40:k();break;case 37:case 38:L();break}},false);e.addEventListener("touchstart",function(e){if(e.touches.length===1){var n=e.touches[0].clientX;var r=t.innerWidth;var i=r/5;if(n<i){L();e.preventDefault()}else if(n>r-i){k();e.preventDefault()}}},false);return{init:y,gotoSlide:N,next:k,prev:L}}})(document,window)